# Шпаргалка по консольным командам Git

## Общее

Git — система контроля версий (файлов). Что-то вроде возможности сохраняться в компьютерных играх (в Git эквивалент игрового сохранения — коммит). Важно: добавление файлов к «сохранению» двухступенчатое: сначала добавляем файл в индекс (git add), потом «сохраняем» (git commit).

Любой файл в директории существующего репозитория может находиться или не находиться под версионным контролем (отслеживаемые и неотслеживаемые).

Отслеживаемые файлы могут быть в 3-х состояниях: неизменённые, изменённые, проиндексированные (готовые к коммиту).

## Ключ к пониманию

Ключ к пониманию концепции git — знание о «трех деревьях»:

* Рабочая директория — файловая система проекта (те файлы, с которыми вы работаете).
* Индекс — список отслеживаемых git-ом файлов и директорий, промежуточное хранилище изменений (редактирование, удаление отслеживаемых файлов).
* Директория .git/ — все данные контроля версий этого проекта (вся история разработки: коммиты, ветки, теги и пр.).

Коммит — «сохранение» (хранит набор изменений, сделанный в рабочей директории с момента предыдущего коммита). Коммит неизменен, его нельзя отредактировать.

У всех коммитов (кроме самого первого) есть один или более родительских коммитов, поскольку коммиты хранят изменения от предыдущих состояний.

## Простейший цикл работ

* Редактирование, добавление, удаление файлов (собственно, работа).
* Индексация/добавление файлов в индекс (указание для git какие изменения нужно будет закоммитить).
* Коммит (фиксация изменений).
Возврат к шагу 1 или отход ко сну.

## Указатели

* HEAD — указатель на текущий коммит или на текущую ветку (то есть, в любом случае, на коммит). Указывает на родителя коммита, который будет создан следующим.
* ORIG_HEAD — указатель на коммит, с которого вы только что переместили HEAD (командой git reset ..., например).
* Ветка (master, develop etc.) — указатель на коммит. При добавлении коммита, указатель ветки перемещается с родительского коммита на новый.
* Теги — простые указатели на коммиты. Не перемещаются.

## Настройки

Перед началом работы нужно выполнить некоторые настройки:

* git config --global user.name "Your Name" # указать имя, которым будут подписаны коммиты
* git config --global user.email "e@w.com"  # указать электропочту, которая будет в описании коммитера

## Указание неотслеживаемых файлов

Файлы и директории, которые не нужно включать в репозиторий, указываются в файле .gitignore. Обычно это устанавливаемые зависимости (node_modules/, bower_components/), готовая сборка build/ или dist/ и подобные, создаваемые при установке или запуске. Каждый файл или директория указываются с новой строки, [возможно использование шаблонов.](https://git-scm.com/book/ru/v2/Основы-Git-Запись-изменений-в-репозиторий#Игнорирование-файлов)

# Консольные комманды

## Создать новый репозиторий

* git init             # создать новый проект в текущей директории
* git init folder-name # создать новый проект в указанной директории

## Клонирование репозитория

* клонировать удаленный репозиторий в одноименную директорию
git clone

## Просмотр изменений

* git status              # показать состояние репозитория (отслеживаемые, изменённые, новые файлы и пр.)
* git diff                # сравнить рабочую директорию и индекс (неотслеживаемые файлы ИГНОРИРУЮТСЯ)
* git diff --color-words  # сравнить рабочую директорию и индекс, показать отличия в словах (неотслеживаемые файлы ИГНОРИРУЮТСЯ)
* git diff index.html     # сравнить файл из рабочей директории и индекс
* git diff HEAD           # сравнить рабочую директорию и коммит, на который указывает HEAD (неотслеживаемые файлы ИГНОРИРУЮТСЯ)
* git diff --staged       # сравнить индекс и коммит с HEAD
* git diff master feature # посмотреть что сделано в ветке feature по сравнению с веткой master
* git diff --name-only master feature # посмотреть что сделано в ветке feature по сравнению с веткой master, показать только имена файлов
* git diff master...feature # посмотреть что сделано в ветке feature с момента (коммита) расхождения с master

## Добавление изменений в индекс

## Удаление изменений из индекса

## Отмена изменений

## Коммиты

## Отмена коммитов и перемещение по истории

## Временно переключиться на другой коммит

## Переключиться на другой коммит и продолжить работу с него

## Восстановление изменений

## Копирование коммита (перенос коммитов)

## Удаление файла

## Перемещение/переименование файлов

## История коммитов

## Кто написал строку

## История изменений указателей (веток, HEAD)

## Ветки

## Теги

## Временное сохранение изменений без коммита

## Удалённые репозитории

## Конфликт слияния

## «Перенос» ветки



